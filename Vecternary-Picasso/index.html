<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Description"
        content="Vecternary Picasso - create graphical designs without the need for expensive design software">
    <title>Vecternary Picasso</title>
    <!--Temp change for debugging-->
    <!-- <link rel="stylesheet" href="css/vendor/range-slider-original.css"> -->
    <link rel="stylesheet" href="css/vendor/range-slider.css">
    <link rel="stylesheet" href="css/vendor/toasts.css">
    <link rel="stylesheet" href="css/build/tailwind.output.css">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <!--Testing styles for animated menus-->
    <style>
        .fade-enter,
        .fade-leave {
            transition: all 0.15s ease;
        }

        .fade-enter-start,
        .fade-leave-end {
            opacity: 0;
        }
    </style>
    <!--Code formatted with beautify and classes sorted with Headwind-->
</head>

<body>
    <!--NOSCRIPT-->
    <noscript class="flex justify-center block w-screen h-screen overflow-y-scroll">
        <style>
            noscript {
                display: block;
            }

            /* Hide the */
            #container {
                display: none;
            }
        </style>
        <article class="flex flex-col max-w-3xl p-8 divide-y">
            <h1 class="py-8 text-4xl font-bold">Sorry, but Vecternary doesn't work well without JavaScript!</h1>
            <section class="py-8 space-y-4 text-base leading-6 text-gray-700 sm:text-lg sm:leading-7">
                <p>You're seeing this because you've disabled JavaScript.</p>
                <p>Don't worry, JavaScript used by Vecternary is no draconian surveillance tactic! It's only there to
                    provide canvas editing functionality. Where possible, as little JavaScript is used as possible, but
                    I can't guarantee that anything will work correctly without JavaScript.</p>
                <p>Vecternary is designed to protect your privacy - that's not an advertising tagline, it's truly
                    designed to be privacy-centric software. For instance, unlike most software, Vecternary has no
                    telemetry or spyware; the only thing it connects to the internet for (and <em>only</em> if you
                    enable this feature) is syncing the online assets and plugins library.</p>
                <p>In addition, Vecternary is fully compliant with the Free Software Foundation's free/libre software
                    guidelines. You can see a list of scripts that are used by Vecternary, along with their licenses,
                    below:</p>
            </section>
            <section class="py-8 space-y-4 text-base leading-6 text-gray-700 sm:text-lg sm:leading-7">
                <!--Table with id="jslicense-labels1"-->
                <table id="jslicense-labels1" class="my-12 table-auto">
                    <thead>
                        <tr>
                            <th class="font-medium">Script name</th>
                            <th class="font-medium">License</th>
                            <th class="font-medium">Source Code</th>
                            <th class="font-medium">Usage rationale</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>iro.min.js</code></td>
                            <td><a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License 2.0</a></td>
                            <td>Available at <a href="https://iro.js.org/">https://iro.js.org/</a></td>
                            <td>Required for colorpicker functionalities</td>
                        </tr>
                        <tr>
                            <td><code>fabric.min.js</code></td>
                            <td><a href="http://www.jclark.com/xml/copying.txt">MIT/Expat License</a></td>
                            <td>Available at <a href="http://fabricjs.com/">http://fabricjs.com/</a></td>
                            <td>Required for drawing/modifying objects and all interactivity</td>
                        </tr>
                        <tr>
                            <td><code>toasts.js</code></td>
                            <td><a href="http://www.gnu.org/licenses/gpl-3.0.html">GNU General Public License 3.0</a>
                            </td>
                            <td>Custom JavaScript library; can be found with Vecternary source</td>
                            <td>Required for debugging and user alerts</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </article>
    </noscript>

    <!--APP UI CONTAINER-->
    <div class="flex flex-col w-screen h-screen bg-deepgray" id="container">
        <!--MENUBAR SECTION-->
        <header class="z-40 flex w-full shadow-md pointer-events-none bg-deepgray">
            <nav class="justify-start ml-4 pointer-events-none lg:ml-20 max-w-7xl" id="menuRoot">
                <div
                    class="flex items-center h-12 space-x-3 text-sm text-gray-200 cursor-pointer pointer-events-none font-base">
                    <!--Begin file dropdown-->
                    <div class="relative pointer-events-none">
                        <button id="fileButton"
                            class="px-4 py-1 rounded pointer-events-auto focus:bg-darkgray">File</button>
                    </div>
                    <!--Begin edit dropdown-->
                    <div class="relative pointer-events-none">
                        <button id="editButton"
                            class="px-4 py-1 rounded pointer-events-auto focus:bg-darkgray">Edit</button>
                    </div>
                    <!--Begin format dropdown-->
                    <div class="relative pointer-events-none">
                        <button id="formatButton"
                            class="px-4 py-1 rounded pointer-events-auto focus:bg-darkgray">Format</button>
                    </div>
                    <!--Begin preferences dropdown-->
                    <div class="relative pointer-events-none">
                        <button id="prefsButton"
                            class="px-4 py-1 rounded pointer-events-auto focus:bg-darkgray">Preferences</button>
                    </div>
                    <!--Begin developer dropdown-->
                    <div class="relative pointer-events-none">
                        <button id="developerButton"
                            class="px-4 py-1 rounded pointer-events-auto focus:bg-darkgray">Developer</button>
                    </div>
                    <!--Begin about dropdown-->
                    <div class="relative pointer-events-none">
                        <button id="aboutButton"
                            class="px-4 py-1 rounded pointer-events-auto focus:bg-darkgray">About</button>
                    </div>
                </div>
            </nav>
        </header>

        <!--APP SECTION-->

        <!--Need to add min-h-0 here due to an unusual firefox bug that causes the min-height of flex children to default to the content size - which causes the child container to overflow its parent even though we set it to scroll-->
        <main class="flex flex-row w-full h-full min-h-0" id="content">

            <!--BEGIN AND END DELETED SECTION -->
            <!--SIDEBAR SECTION-->
            <section id="sidebar">
                <!--This is supposed to float above the canvas like a toolbar-->
                <!--So it has a higher z-index-->
                <div class="flex ml-16">
                    <div
                        class="relative z-10 flex flex-col justify-around w-full py-8 m-auto space-y-6 text-gray-300 shadow-md bg-palegray rounded-xl">

                        <!--PENCIL BUTTON-->
                        <button data-sidebar-button="1"
                            class="w-full px-3 py-3 mx-auto border-r-4 border-gray-400 border-solid rounded glow-outline"
                            id="draw-button">
                            <span class="flex flex-col space-y-4">
                                <span class="flex justify-evenly" id="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-full" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                                    </svg>
                                </span>
                                <p class="text-xs">Brush</p>
                            </span>
                        </button>

                        <!--ERASER BUTTON-->
                        <button data-sidebar-button="1"
                            class="w-full px-3 py-3 mx-auto rounded active:bg-gray-400 glow-outline" id="eraser-button">
                            <span class="flex flex-col space-y-4">
                                <span class="flex justify-evenly" id="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-full" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="M7.583 16.991a1.183 1.183 0 0 1-.37-.116c-.095-.045-.154-.089-.294-.218-.435-.4-2.391-2.35-3.32-3.305-.4-.414-.457-.49-.531-.705a1.554 1.554 0 0 1-.066-.576 1.07 1.07 0 0 1 .124-.515c.062-.127.094-.17.269-.359.633-.685 6.986-7.04 7.688-7.689.397-.367.506-.44.737-.497.189-.047.494-.047.676-.002.17.042.336.108.436.173.152.099 2.663 2.589 3.59 3.561.285.298.305.322.364.447.035.073.08.195.1.272.033.122.038.17.039.362 0 .196-.004.24-.038.372-.091.353-.053.312-3.884 4.152-2.028 2.033-3.971 3.959-4.303 4.266-.186.172-.226.202-.353.264-.079.038-.185.08-.236.092-.11.027-.494.04-.628.021zm.377-1.122c.04-.027.136-.105.215-.175.182-.16 2.8-2.77 2.8-2.791 0-.02-3.87-3.89-3.889-3.89-.014 0-1.732 1.718-2.407 2.407-.579.59-.65.69-.588.834.03.073.458.517 1.656 1.72 1.326 1.333 1.88 1.87 1.983 1.922.088.045.13.04.23-.027z" />
                                    </svg>
                                </span>
                                <p class="text-xs">Eraser</p>
                            </span>
                        </button>

                        <!--CIRCLE BUTTON-->
                        <button data-sidebar-button="1"
                            class="w-full px-3 py-3 mx-auto rounded active:bg-gray-400 glow-outline" id="circle-button">
                            <span class="flex flex-col space-y-4">
                                <span class="flex justify-evenly" id="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-full" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="M10 3c-3.858 0-7 3.142-7 7s3.142 7 7 7 7-3.142 7-7-3.142-7-7-7zm0 1.273A5.718 5.718 0 0 1 15.727 10 5.718 5.718 0 0 1 10 15.727 5.718 5.718 0 0 1 4.273 10 5.718 5.718 0 0 1 10 4.273z" />
                                    </svg>
                                </span>
                                <p class="text-xs">Circle</p>
                            </span>
                        </button>

                        <!--RECTANGLE BUTTON-->
                        <button data-sidebar-button="1"
                            class="w-full px-3 py-3 mx-auto rounded active:bg-gray-400 glow-outline" id="rect-button">
                            <span class="flex flex-col space-y-4">
                                <span class="flex justify-evenly" id="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-full" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="M4.118 3C3.508 3 3 3.508 3 4.118v11.764C3 16.492 3.508 17 4.118 17h11.764c.61 0 1.118-.508 1.118-1.118V4.118C17 3.508 16.492 3 15.882 3zm0 1.076h11.764c.033 0 .042.01.042.042v11.764c0 .033-.009.042-.042.042H4.118c-.033 0-.042-.009-.042-.042V4.118c0-.033.01-.042.042-.042z" />
                                    </svg>
                                </span>
                                <p class="text-xs">Rectangle</p>
                            </span>
                        </button>

                        <!--TRIANGLE BUTTON-->
                        <button data-sidebar-button="1"
                            class="w-full px-3 py-3 mx-auto rounded active:bg-gray-400 glow-outline"
                            id="triangle-button">
                            <span class="flex flex-col space-y-4">
                                <span class="flex justify-evenly" id="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-full" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M10.025 3a.574.574 0 00-.538.318L3.061 16.17a.574.574 0 00.513.83h12.852a.574.574 0 00.513-.83L10.513 3.318A.574.574 0 0010.025 3zM10 4.857l5.497 10.997H4.503z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </span>
                                <p class="text-xs">Triangle</p>
                            </span>
                        </button>

                        <!--TEXT BUTTON-->
                        <button data-sidebar-button="1"
                            class="w-full px-3 py-3 mx-auto rounded active:bg-gray-400 glow-outline"
                            id="textbox-button">
                            <span class="flex flex-col space-y-4">
                                <span class="flex justify-evenly" id="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-full" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="m10.89 4.036 2.292.037c1.745.036 2.182.454 2.236 1l.018.2c.018.254.055.309.146.309.072 0 .127-.073.127-.237 0-.2.055-1.454.055-2 0-.109 0-.218-.091-.218-.073 0-.237.055-.51.091-.29.055-.709.091-1.29.091H7.055c-.219 0-.91-.036-1.437-.09-.49-.037-.673-.219-.8-.219-.073 0-.145.236-.182.345-.036.146-.4 1.71-.4 1.891 0 .11.037.164.091.164.073 0 .128-.036.182-.182.055-.127.11-.254.31-.563.29-.437.726-.564 1.854-.582l2.69-.037v7.691c0 1.746 0 3.182-.09 3.946-.073.527-.164.927-.528 1a2.804 2.804 0 0 1-.545.073c-.11 0-.145.054-.145.109 0 .109.09.145.29.145.546 0 1.691-.055 1.782-.055.091 0 1.237.055 2.237.055.2 0 .29-.055.29-.145 0-.055-.036-.11-.145-.11-.164 0-.564-.036-.818-.072-.546-.073-.655-.473-.71-1-.09-.764-.09-2.2-.09-3.946z" />
                                    </svg>
                                </span>
                                <p class="text-xs">Text</p>
                            </span>
                        </button>

                    </div>
                </div>
            </section>

            <!--CANVAS SECTION-->
            <div class="flex flex-1 w-full" id="canvas-container">
                <!-- <div id="placeholder" class="flex-grow w-full text-center min-w-2/3">
                <h1 class="text-3xl">Welcome to Vecternary Alpha</h1>
                <p class="text-sm">Version 0.1.0</p>
                <p class="m-auto">Use the tools on the left sidebar to begin drawing.</p>
              </div> -->
                <canvas id="app-canvas">

                </canvas>
            </div>

            <!--PROPERTIES EDITOR SECTION-->
            <div id="editor" class="flex order-last overflow-y-scroll min-w-1/5 bg-palegray">
                <div class="flex flex-col space-y-6">
                    <!--Resize drag button-->
                    <!--
                    <div class="absolute relative inset-y-0 right-0 cursor-move pointer-events-auto left-4 cursor-grab active:cursor-grabbing" id="resizer top-left transform: translate3d(-119px, 0px, 0px) scale(1);" style=" user-select: none; touch-action: pan-y; transform-origin: 50% 50% 0px;">
                        <div class="absolute right-0 items-center justify-center hidden w-8 -mt-4 pointer-events-auto top-1/2 md:flex cursor-grab active:cursor-grabbing" style="user-select: none; touch-action: pan-y; transform-origin: 50% 50% 0px;" draggable="false">
                            <div class="flex items-center justify-center flex-none px-2 py-3 rounded shadow bg-palegray">
                                <svg viewBox="0 0 14 24" fill="none" stroke-width="2" stroke="currentColor" class="flex-none h-4 text-white">
                                    <path d="M 1 0 V 24 M 7 0 V 24 M 13 0 V 24"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                    -->

                    <div id="color-options" class="flex flex-col py-12 mx-auto space-y-8">
                        <div id="modal-button" class="flex flex-row mx-auto space-x-2 text-sm">
                            <button id="drawing-mode"
                                class="px-6 py-3 font-medium text-gray-300 rounded bg-darkgray">Drawing
                                Mode</button>
                            <button id="adjust-mode" class="px-6 py-3 font-medium text-gray-300 rounded bg-none">Adjust
                                Mode</button>
                        </div>
                        <div id="picker" class="flex flex-col space-y-8 justify-evenly">

                            <!--Colorpicker; nothing here because it is rendered dynamically with JavaScript-->
                            <!--Don't add anything inside of this div-->
                            <div id="colorpicker" class="m-auto">
                            </div>

                            <!--Colorpicker inputs-->
                            <div id="colorinputs"
                                class="flex flex-row text-sm font-medium text-gray-200 justify-evenly max-w-5/6 ">
                                <!--Left button for choosing the type of color to input-->
                                <div class="relative">
                                    <select id="simple" name="colorChooser"
                                        class="block w-full px-4 py-3 pr-8 leading-tight text-gray-200 border rounded appearance-none border-deepgray bg-darkgray glow-outline">
                                        <option selected>
                                            Line color
                                        </option>
                                        <option>Fill color</option>
                                        <option>Brush color</option>
                                        <option>Canvas color</option>

                                        <!-- block w-full py-2 pl-8 pr-4 border rounded-md shadow-sm appearance-none border-deepgray bg-darkgray glow-outline -->
                                    </select>
                                    <div
                                        class="absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none">
                                        <!-- Heroicon name: solid/chevron-down -->
                                        <svg class="w-5 h-5 ml-2 -mr-1" xmlns="http://www.w3.org/2000/svg" class="w-8"
                                            viewBox="0 0 20 20" fill="white" aria-hidden="true">
                                            <path fill-rule="evenodd"
                                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                </div>
                                <!-- <button type="button" class="inline-flex justify-center py-2 pl-8 pr-4 border rounded-md shadow-sm border-deepgray bg-darkgray glow-outline" id="options-menu" aria-haspopup="true" aria-expanded="true">
                                    Line color
                                    Heroicon name: solid/chevron-down
                                    <svg class="w-5 h-5 ml-2 -mr-1" xmlns="http://www.w3.org/2000/svg" class="w-8" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button> -->
                                <!--Right button for hex color code-->
                                <div class="w-2/5 xl:w-1/3">
                                    <input
                                        class="w-full h-full px-3 text-center placeholder-gray-400 align-middle rounded shadow-sm appearance-none border-deepgray bg-darkgray focus:border-purple-500"
                                        id="hexColorInputBox" type="text" placeholder="#384858">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--END COLOR OPTIONS-->

                    <div id="sliders" class="flex flex-col w-full p-5 space-y-12">

                        <!--Line Width-->
                        <div class="flex flex-col w-5/6 mx-auto space-y-6 text-gray-200">
                            <!--Slider label-->
                            <label class="block mb-2 font-medium text-md align-left font-gray-200"
                                for="lineWidthSlider">Line
                                Width</label>
                            <!--Main slider-->
                            <div class="w-full mx-auto" id="lineWidthSlider"></div>
                            <!--Alternative Input box for line width-->
                            <div>
                                <input
                                    class="float-right w-20 h-10 text-center placeholder-gray-400 rounded shadow-sm border-deepgray bg-darkgray glow-outline"
                                    id="lineWidthInput" type="text" placeholder="50" oninput="linewidthInput(value)">
                            </div>
                        </div>

                        <!--Shadow width-->
                        <div class="flex flex-col w-5/6 mx-auto space-y-6 text-gray-200">
                            <!--Slider label-->
                            <label class="block mb-2 font-medium text-md align-left font-gray-200"
                                for="shadowWidthSlider">Shadow
                                Width</label>
                            <!--Main slider-->
                            <div class="w-full mx-auto" id="shadowWidthSlider"></div>
                            <!--Alternative Input box for shadow width-->
                            <div>
                                <input
                                    class="float-right w-20 h-10 text-center placeholder-gray-400 rounded shadow-sm border-deepgray bg-darkgray glow-outline"
                                    id="shadowWidthInput" type="text" placeholder="10"
                                    oninput="shadowWidthInput(value)">
                            </div>
                        </div>

                        <!--Shadow width-->
                        <div class="flex flex-col w-5/6 mx-auto space-y-6 text-gray-200">
                            <!--Slider label-->
                            <label class="block mb-2 font-medium text-md align-left font-gray-200"
                                for="shadowOffsetSlider">Shadow
                                Offset</label>
                            <!--Main slider-->
                            <div class="w-full mx-auto" id="shadowOffsetSlider"></div>
                            <!--Alternative Input box for shadow width-->
                            <div>
                                <input
                                    class="float-right w-20 h-10 text-center placeholder-gray-400 rounded shadow-sm border-deepgray bg-darkgray glow-outline"
                                    id="shadowOffsetInput" type="text" placeholder="10"
                                    oninput="shadowOffsetInput(value)">
                            </div>
                        </div>
                    </div>
                    <!--END SLIDERS-->
                </div>
            </div>
            <!--END PROPERTIES EDITOR-->
        </main>
    </div>
    <!--Toast div is for showing toasts dynamically using JavaScript-->
    <div id="toast" hidden></div>

    <!--Essential JavaScript for the UI is placed here-->
    <!--Uses iro.js as a dependency for the colorpicker, so this must go first-->
    <script src="./libs/iro.min.js"></script>
    <!--Uses range-slider.js as dependency for accessible and cross-platform sliders-->
    <script src="./libs/range-slider.js"></script>
    <!--Uses a custom micro-library for app menu functions-->
    <script src="./libs/appmenus.js"></script>
    <!--Script used for modifying the DOM and setting variables for debugging-->
    <script src="./libs/debug/debug.js"></script>
    <!--Uses a custom resize script for resizable properties panel-->
    <script src="./libs/resize.js"></script>
    <!--Uses a custom library for implementing "convenience" functions-->
    <script src="./libs/apputils.js"></script>
    <!--Uses fabric.js as dependency for basically all drawing stuff-->
    <script src="./libs/fabric.min.js"></script>
    <!--Uses toasts.js (a custom micro library) for simple toasts-->
    <script src="./libs/toasts.js"></script>
    <!--Script for managing color conversions-->
    <script src="./libs/colorutils.js"></script>
    <!--Script for assigning functions to selected objects-->
    <script src="./libs/onselect.js"></script>
    <script src="./libs/mousetrap.js"></script>
    <!--Entry point for app-->
    <script src="./app.js"></script>
    <!--Script for error-logging (this integrates with Rust for detailed backtraces)-->
    <!-- <script>
        window.onerror = function(msg, url, line) {
            var error = "Message : " + msg + "\n" + "url : " + url + "\n"; + "Line number : " + line + "\n";
            var shorterror = "Fatal error at line " + line;
            log(shorterror);
            console.log(error)
            // TODO - Write to Rust
        }
    </script> -->

</body>

</html>